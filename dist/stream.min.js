var g=null;
("undefined"!==typeof define?define:function(j){stream=j()})(function(){function j(a,c){a.push(c);return a}function k(a,c,f){n(a,function(a,e){f=c(f,a,e)});return f}function i(a){return a.b(a.a)}function p(a,c,f){if(c>=f)a=g;else var b=a[c],e=h(p,a,c+1,f),d,a=l(b,function(){return void 0===d?d=e():d});return a}function q(a,c){return a===g?c:r(a.a,q(i(a),c))}function r(a,c){return l(a,s(c))}function l(a,c){return{first:a,rest:c}}function h(a){return 1===arguments.length?a:a.bind.apply(a,arguments)}
var s=h(h,function(a){return a}),n=h(function(a,c,f,b){for(a=0;c!==g;)f.call(b,c.a,a),++a,c=i(c)},0),t=h(function c(f,b,e,d){return b===g?d:e(b.a,c(f+1,i(b),e,d),f)},0),u=h(function f(b,e,d,m){return e===g?e:l(d.call(m,e.a,b),h(f,b+1,i(e),d,m))},0),v=h(function b(e,d,m,j){for(;d!==g;){var k=d.a;if(m.call(d,k,e))return l(k,h(b,e+1,i(d),m,j));++e;d=i(d)}return d},0);return{end:g,stream:l,cons:r,concat:q,from:function(b){return void 0===b?g:p(b,0,b.length)},first:function(b){return b.a},rest:i,isEmpty:function(b){return b===
g},forEach:n,reduce:k,reduceRight:t,toArray:function(b){return k(b,j,[])},map:u,filter:v}});
