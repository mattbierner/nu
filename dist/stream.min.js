var i=null;
("undefined"!==typeof define?define:function(l){stream=l()})(function(){function l(a,c){a.push(c);return a}function q(a,c,h){for(var e=0;a!==i;)c.call(h,a.a,e),++e,a=j(a)}function j(a){return a.b(a.a)}function r(a,c,h){return c>=h?i:n(a[c],g(r,a,c+1,h))}function t(a,c){return k(c,a)}function k(a,c){return a===i?c:p(a.a,g(k,j(a),c))}function n(a,c){var h;return{first:a,rest:function(){return void 0===h?h=c.apply(void 0,arguments):h}}}function p(a,c){return{first:a,rest:c}}function g(a){return 1===arguments.length?
a:a.bind.apply(a,arguments)}var u=Array.prototype.reduceRight,v=g(g,function(a){return a}),s=g(function c(h,e,b,d){if(e===i)return d;if(void 0===d)return c(1,j(e),b,e.a);q(e,function(c,e){d=b(d,c,e+h)});return d},0),w=g(function h(e,b,d,f){if(b===i)return f;var g=b.a,b=j(b);return b===i&&void 0===f?g:d(h(e+1,b,d,f),g,e)},0),x=g(function e(b,d,f,m){return d===i?d:n(f.call(m,d.a,b),g(e,b+1,j(d),f,m))},0),y=g(function b(d,f,m,l){for(;f!==i;){var k=f.a;if(m.call(f,k,d))return n(k,g(b,d+1,j(f),m,l));++d;
f=j(f)}return f},0);return{end:i,stream:p,memoStream:n,cons:function(b,d){return p(b,v(d))},concat:k,concata:function(){return u.call(arguments,t)},from:function(b){return void 0===b?i:r(b,0,b.length)},first:function(b){return b.a},rest:j,isEmpty:function(b){return b===i},forEach:q,reduce:s,reduceRight:w,toArray:function(b){return s(b,l,[])},map:x,filter:y}});
