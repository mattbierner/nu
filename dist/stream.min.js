var g=null;
("undefined"!==typeof define?define:function(l){stream=l()})(function(){function l(a,c){a.push(c);return a}function j(a){return a.b(a.a)}function m(a,c,h){return c>=h?g:p(a[c],e(m,a,c+1,h))}function q(a,c){return a===g?c:n(a.a,e(q,j(a),c))}function p(a,c){var h;return{first:a,rest:function(){return void 0===h?h=c.apply(void 0,arguments):h}}}function n(a,c){return{first:a,rest:c}}function e(a){return 1===arguments.length?a:a.bind.apply(a,arguments)}var t=e(e,function(a){return a}),r=e(function(a,c,
h,e){for(a=0;c!==g;)h.call(e,c.a,a),++a,c=j(c)},0),s=e(function c(e,k,b,d){if(k===g)return d;if(void 0===d)return c(1,j(k),b,k.a);r(k,function(c,i){d=b(d,c,i+e)});return d},0),u=e(function h(e,b,d,f){if(b===g)return f;var i=b.a,b=j(b);return b===g&&void 0===f?i:d(h(e+1,b,d,f),i,e)},0),v=e(function k(b,d,f,i){return d===g?d:n(f.call(i,d.a,b),e(k,b+1,j(d),f,i))},0),w=e(function b(d,f,i,l){for(;f!==g;){var m=f.a;if(i.call(f,m,d))return n(m,e(b,d+1,j(f),i,l));++d;f=j(f)}return f},0);return{end:g,stream:n,
memoStream:p,cons:function(b,d){return n(b,t(d))},concat:q,from:function(b){return void 0===b?g:m(b,0,b.length)},first:function(b){return b.a},rest:j,isEmpty:function(b){return b===g},forEach:r,reduce:s,reduceRight:u,toArray:function(b){return s(b,l,[])},map:v,filter:w}});
