var i=null;
("undefined"!==typeof define?define:function(j){stream=j()})(function(){function j(a,c,d){if(a===i)return a;var g=a.a,d=j(k(a),c,d);return c.call(a,g)?l(g,d):d}function r(a,c){a.push(c);return a}function k(a){return a.b(a.a)}function m(a,c,d){return c>=d?i:l(a[c],m(a,c+1,d))}function n(a,c){return a===i?c:l(a.a,n(k(a),c))}function l(a,c){return p(a,s(c))}function p(a,c){return{first:a,rest:c}}function e(a){return 1===arguments.length?a:a.bind.apply(a,arguments)}var s=e(e,function(a){return a}),t=
e(function c(d,g,b,f){g!==i&&(b.call(f,g.a,d),c(d+1,k(g),b,f))},0),q=e(function d(g,b,f,h){return b===i?h:d(g+1,k(b),f,f(h,b.a,g))},0),u=e(function g(b,f,h,e){return f===i?e:h(f.a,g(b+1,k(f),h,e),b)},0),v=e(function b(f,h,e,j){return h===i?h:l(e.call(j,h.a,f),b(f+1,k(h),e,j))},0);return{end:i,stream:p,cons:l,concat:n,from:function(b){return m(b,0,b.length)},first:function(b){return b.a},rest:k,isEmpty:function(b){return b===i},forEach:t,reduce:q,reduceRight:u,toArray:function(b){return q(b,r,[])},
map:v,filter:j}});
