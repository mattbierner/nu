var h=null;
("undefined"!==typeof define?define:function(k){gen=k()})(function(){function k(a,c,e){if(a===h)return a;var g=a.a,e=k(j(a),c,e);return c.call(a,g)?l(g,e):e}function j(a){return a.b(a.a)}function m(a,c,e){return c>=e?h:l(a[c],m(a,c+1,e))}function n(a,c){return a===h?c:l(a.a,n(j(a),c))}function l(a,c){return p(a,q(c))}function p(a,c){return{first:a,rest:c}}function f(a){return 1===arguments.length?a:a.bind.apply(a,arguments)}var q=f(f,function(a){return a}),r=f(function c(e,g,b,d){g!==h&&(b.call(d,
g.a,e),c(e+1,j(g),b,d))},0),s=f(function e(g,b,d,i){return b===h?i:e(g+1,j(b),d,d(i,b.a,g))},0),t=f(function g(b,d,i,f){return d===h?f:i(d.a,g(b+1,j(d),i,f)),b},0),u=f(function b(d,i,f,k){return i===h?i:l(f.call(k,i.a,d),b(d+1,j(i),f,k))},0);return{end:h,stream:p,cons:l,concat:n,from:function(b){return m(b,0,b.length)},first:function(b){return b.a},rest:j,isEmpty:function(b){return b===h},forEach:r,reduce:s,reduceRight:t,toArray:function(b){for(var d=[];b!==h;b=j(b))d.push(b.a);return d},map:u,filter:k}});
